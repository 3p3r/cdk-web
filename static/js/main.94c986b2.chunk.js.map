{"version":3,"sources":["App.js","lazyLoadScript.js","reportWebVitals.js","index.js"],"names":["DEFAULT_STACK_PROGRAM","App","Tabs","cdk","cfn","about","state","tab","dirty","template","source","componentDidMount","updateTemplate","program","setState","eval","trim","handleOnEditorChanged","synthesize","this","props","width","height","className","defaultActiveKey","activeKey","onSelect","eventKey","title","theme","path","language","defaultValue","onChange","tabClassName","options","readOnly","value","JSON","stringify","stripIndent","require","version","variant","onClick","React","Component","lazyLoadScript","src","scripts","Array","from","document","getElementsByTagName","map","s","includes","Promise","resolve","reject","script","createElement","type","body","parentNode","insertBefore","addEventListener","e","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Index","ready","errors","handleOnError","error","message","reason","console","initErrorHandling","window","onerror","file","line","col","freeErrorHandling","undefined","removeEventListener","AWS","CDK","componentWillUnmount","canRender","Container","fluid","length","Alert","dismissible","onClose","Heading","join","wrapperClass","color","ariaLabel","href","ResizeAwareIndex","withResizeDetector","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.94c986b2.chunk.js","sourcesContent":["import React from \"react\";\nimport Editor from \"@monaco-editor/react\";\nimport { Button, Tab, Tabs } from \"react-bootstrap\";\nimport stripIndent from \"strip-indent\";\n\nconst DEFAULT_STACK_PROGRAM = `\\\n// go to \"CFN\" tab ^ to synth.\n\nconst cdk = CDK.require(\"aws-cdk-lib\");\nconst ec2 = CDK.require(\"aws-cdk-lib/aws-ec2\");\nconst sqs = CDK.require(\"aws-cdk-lib/aws-sqs\");\nconst sns = CDK.require(\"aws-cdk-lib/aws-sns\");\nconst s3 = CDK.require(\"aws-cdk-lib/aws-s3\");\nconst app = new cdk.App();\nconst stack = new cdk.Stack(app, \"BrowserStack\");\nconst vpc = new ec2.Vpc(stack, \"VPC\");\nconst queue = new sqs.Queue(stack, \"Queue\");\nconst topic = new sns.Topic(stack, \"Topic\");\nconst bucket = new s3.Bucket(stack, \"Bucket\");\nconst assembly = app.synth();\nconst template = assembly.getStackArtifact(\"BrowserStack\").template;\ntemplate; // last statement is the return of eval()`;\n\nclass App extends React.Component {\n  Tabs = {\n    cdk: \"cdk\",\n    cfn: \"cfn\",\n    about: \"about\",\n  };\n\n  state = {\n    tab: this.Tabs.cdk,\n    dirty: true,\n    template: {},\n    source: DEFAULT_STACK_PROGRAM,\n  };\n\n  componentDidMount = () => {\n    this.updateTemplate();\n  };\n\n  updateTemplate = (program = DEFAULT_STACK_PROGRAM) => {\n    try {\n      // eslint-disable-next-line no-eval\n      this.setState({ template: eval(program.trim()), dirty: true });\n    } catch {\n      this.setState({ template: {}, dirty: false });\n    }\n  };\n\n  handleOnEditorChanged = (source) => {\n    this.setState({ source, dirty: true });\n  };\n\n  synthesize = () => {\n    this.updateTemplate(this.state.source);\n    this.setState({ tab: this.Tabs.cfn, dirty: false });\n  };\n\n  render() {\n    const { width, height } = this.props;\n    return width > 0 && height > 0 ? (\n      <>\n        <Tabs\n          className=\"mb-3\"\n          defaultActiveKey={this.Tabs.cdk}\n          activeKey={this.state.tab}\n          onSelect={(tab) => {\n            this.setState({ tab });\n            if (tab === this.Tabs.cfn) this.synthesize();\n          }}\n        >\n          <Tab eventKey={this.Tabs.cdk} title={this.Tabs.cdk}>\n            <Editor\n              width={`${width}px`}\n              height={`${height}px`}\n              theme=\"vs-dark\"\n              path=\"app.js\"\n              language=\"javascript\"\n              defaultValue={DEFAULT_STACK_PROGRAM}\n              onChange={this.handleOnEditorChanged}\n            />\n          </Tab>\n          <Tab\n            eventKey={this.Tabs.cfn}\n            title={`${this.Tabs.cfn}${this.state.dirty ? \"*\" : \"\"}`}\n            tabClassName={\n              this.state.dirty ? \"font-weight-bold text-uppercase text-warning\" : \"font-weight-light text-lowercase\"\n            }\n          >\n            <Editor\n              width={`${width}px`}\n              height={`${height}px`}\n              theme=\"vs-dark\"\n              path={\"cfn-template.json\"}\n              options={{ readOnly: true }}\n              language=\"json\"\n              value={JSON.stringify(this.state.template, null, 2)}\n            />\n          </Tab>\n          <Tab eventKey={this.Tabs.about} title={this.Tabs.about}>\n            <Editor\n              width={`${width}px`}\n              height={`${height}px`}\n              theme=\"vs-dark\"\n              path=\"ABOUT.md\"\n              options={{ readOnly: true }}\n              language=\"markdown\"\n              value={stripIndent(`\\\n                # CDK WEB Playground\n                Try out AWS CDK directly in your browser!\n\n                ## versions\n                aws-cdk-web version: ${require(\"../package.json\").version}\n                aws-cdk-lib version: ${require(\"aws-cdk-lib/package.json\").version}\n                constructs version: ${require(\"constructs/package.json\").version}\n\n                ## help and support:\n                go to the repository: https://github.com/3p3r/cdk-web/`)}\n            />\n          </Tab>\n        </Tabs>\n        {(this.state.dirty || this.state.tab !== this.Tabs.cfn) && (\n          <Button variant=\"warning\" className=\"position-absolute synthesis-button\" onClick={this.synthesize}>\n            Synthesize\n          </Button>\n        )}\n      </>\n    ) : null;\n  }\n}\n\nexport default App;\n","const lazyLoadScript = (src = \"\") => {\n  const scripts = Array.from(document.getElementsByTagName(\"script\")).map(\n    (s) => s.src\n  );\n  if (scripts.includes(src)) {\n    return new Promise((resolve) => resolve());\n  }\n  return new Promise((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src = src;\n    const body = document.getElementsByTagName(\"body\")[0];\n    body?.parentNode?.insertBefore(script, body);\n    script.addEventListener(\"load\", (e) => {\n      resolve(e);\n    });\n  });\n};\n\nexport default lazyLoadScript;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/// <reference types=\"..\" />\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Grid } from \"react-loader-spinner\";\nimport { Alert, Container } from \"react-bootstrap\";\nimport { withResizeDetector } from \"react-resize-detector\";\n\nimport App from \"./App\";\nimport lazyLoadScript from \"./lazyLoadScript\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"github-fork-ribbon-css/gh-fork-ribbon.css\";\nimport \"@forevolve/bootstrap-dark/dist/css/bootstrap-dark.min.css\";\nimport \"./index.css\";\n\nclass Index extends React.Component {\n  state = { ready: false, errors: [] };\n\n  handleOnError = (error) => {\n    const message = error.message || error.reason.message || \"unknown error, check your dev console.\";\n    console.error(\"cdk-web encountered an error\", error);\n    this.setState({ errors: [message, ...this.state.errors] });\n  };\n\n  initErrorHandling = () => {\n    window.onerror = (message, file, line, col, error) => {\n      this.handleOnError(error);\n      return false;\n    };\n    window.addEventListener(\"error\", (e) => {\n      this.handleOnError(e.error);\n      return false;\n    });\n    window.addEventListener(\"unhandledrejection\", (e) => {\n      this.handleOnError(e.reason);\n    });\n  };\n\n  freeErrorHandling = () => {\n    window.onerror = undefined;\n    window.removeEventListener(\"error\", this.handleOnError);\n    window.removeEventListener(\"unhandledrejection\", this.handleOnError);\n  };\n\n  componentDidMount = () => {\n    this.initErrorHandling();\n    if (window.AWS && window.CDK) this.setState({ ready: true });\n    else {\n      lazyLoadScript(\"https://sdk.amazonaws.com/js/aws-sdk-2.1000.0.min.js\").then(() =>\n        lazyLoadScript(\"cdk-web.js\").then(() => {\n          this.setState({ ready: true });\n        })\n      );\n    }\n  };\n\n  componentWillUnmount = () => {\n    this.freeErrorHandling();\n  };\n\n  canRender = () => {\n    const { width, height } = this.props;\n    return width > 0 && height > 0 && this.state.ready && window.CDK !== undefined && window.AWS !== undefined;\n  };\n\n  render() {\n    const { width, height } = this.props;\n    return (\n      <Container fluid className=\"w-100 h-100 p-0 m-0\">\n        {this.canRender() ? (\n          <>\n            {this.state.errors.length > 0 && (\n              <Alert dismissible variant=\"danger\" onClose={() => this.setState({ errors: [] })}>\n                <Alert.Heading>Oh snap! CDK Synthesis failed!</Alert.Heading>\n                <p>check error message below:</p>\n                <p className=\"text-monospace\">{this.state.errors.map((e) => `- ${e}`).join(\"\\n\")}</p>\n              </Alert>\n            )}\n            <App width={width} height={height} />\n          </>\n        ) : (\n          <Grid wrapperClass=\"loading-spinner\" height=\"100\" width=\"100\" color=\"#5050EC\" ariaLabel=\"loading\" />\n        )}\n        <a\n          className=\"github-fork-ribbon\"\n          href=\"https://github.com/3p3r/cdk-web/\"\n          data-ribbon=\"Fork this on GitHub\"\n          title=\"Fork this on GitHub\"\n        >\n          Fork this on GitHub\n        </a>\n      </Container>\n    );\n  }\n}\n\nconst ResizeAwareIndex = withResizeDetector(Index);\nReactDOM.render(<ResizeAwareIndex />, document.getElementById(\"root\"));\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}